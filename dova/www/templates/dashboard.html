<ion-view view-title="Dashboard" hide-back-button="true" id="page10" ng-init="loadEnrollments()" cache-view="false">
  <ion-content padding="true" class="has-header manual-remove-top-padding" scroll="false">

    <ion-scroll class="top-container">

      <ion-list  ng-repeat="enrollment in enrollments">
      <div class="wraper" style="border: 1px solid;">

        <ion-item class="item-thumbnail-left item-icon-right course" style="padding-left: 116px;" id="dashboard-list-item45" ng-click="toggleGroup({{$index}})">
          <img src="img/ionDocument.png" style="">
          <div style="float: left;"> 
            <h2 >{{ enrollment.course_name }}</h2>
            <p style="white-space:normal;">{{ enrollment.teacher_name }}</p>
          </div>

          <div style="float: right; font-size: 9px; width: 250px;" ng-show="show_detail[{{$index}}]">
            <div ng-style="{ color: enrollment.feedback_status == 'Completed' ? 'green' : enrollment.feedback_status == 'Available' ? 'red' : 'black' }">
            Feedback: {{ enrollment.feedback_status }}</div>
            <div ng-style="{ color: enrollment.action_plan_status == 'Completed' ? 'green' : enrollment.action_plan_status == 'Available' ? 'red' : 'black' }">
            Action Plan: {{ enrollment.action_plan_status }}</div>
            <div ng-style="{ color: enrollment.knowledge_test_status == 'Completed' ? 'green' : enrollment.knowledge_test_status == 'Available' ? 'red' : 'black' }">
            Knowledge Test: {{ enrollment.knowledge_test_status }}</div>
            <div ng-style="{ color: enrollment.diagnosis_status == 'Completed' ? 'green' : enrollment.diagnosis_status == 'Available' ? 'red' : 'black' }">
              Diagnosis: {{ enrollment.diagnosis_status }}</div>
          </div>


          <i class="icon ion-ios-arrow-down" ng-show="show_detail[{{$index}}]"></i>
          <i class="icon ion-ios-arrow-up" ng-show="!show_detail[{{$index}}]"></i>
        </ion-item>

        <div class="group" ng-show="!show_detail[{{$index}}]">

         <ion-item class="item-icon-left item-icon-right" id="f" ng-click="enrollment.feedback_status == 'Available' && toFeedback(enrollment.id, enrollment.feedback_status == 'Available')"
                   ng-style="{ color: enrollment.feedback_status == 'Completed' ? 'green' : enrollment.feedback_status == 'Available' ? 'red' : 'black' }">
           <i class="icon ion-information"></i>Feedback: {{ enrollment.feedback_status }}
           <i class="icon ion-ios-arrow-right" ng-show="enrollment.feedback_status == 'Available'"></i>
         </ion-item>
         <ion-item class="item-icon-left item-icon-right" id="ap" ng-click="enrollment.action_plan_status == 'Available' && toActionPlan(enrollment.id)" ng-style="{ color: enrollment.action_plan_status == 'Completed' ? 'green' : enrollment.action_plan_status == 'Available' ? 'red' : 'black' }">
           <i class="icon ion-ionic"></i>Action Plan: {{ enrollment.action_plan_status }}
           <i class="icon ion-ios-arrow-right" ng-show="enrollment.action_plan_status == 'Available'"></i>
         </ion-item>
         <ion-item class="item-icon-left item-icon-right" id="kt" ng-click="enrollment.knowledge_test_status == 'Available' && toKTest(enrollment.id)" ng-style="{ color: enrollment.knowledge_test_status == 'Completed' ? 'green' : enrollment.knowledge_test_status == 'Available' ? 'red' : 'black' }">
           <i class="icon ion-ios-list-outline"></i>Knowledge Test: {{ enrollment.knowledge_test_status }}
           <i class="icon ion-ios-arrow-right" ng-show="enrollment.knowledge_test_status == 'Available'"></i>
         </ion-item>
         <ion-item class="item-icon-left item-icon-right" id="d" ng-click="enrollment.diagnosis_status == 'Available' && toDiagnosis(enrollment.id)" ng-style="{ color: enrollment.diagnosis_status == 'Completed' ? 'green' : enrollment.diagnosis_status == 'Available' ? 'red' : 'black' }">
           <i class="icon ion-document"></i>Diagnosis: {{ enrollment.diagnosis_status }}
           <i class="icon ion-ios-arrow-right" ng-show="enrollment.diagnosis_status == 'Available'"></i>
         </ion-item>
       </div>
      </div>
          </ion-list>
    </ion-scroll>

      <form class="bottom-form" >
        <button nav-direction="back" class="button button-full logout-button" style="margin:0px;" ng-click="logout()" nav-direction="back">Logout</button>
      </form>
</ion-content> 

<style type="text/css">
  .top-container{
    height: calc(100% - 48px);
    overflow:scroll;
  }

  .bottom-form{
    position:absolute;
    bottom:0px;
    display:block;
    width:100%;
    background-color:white;
    button{
      margin:0px !important;
    }
  }
  .top-container{
    margin-top: 10px;
  }

  .logout-button{
    background-color: rgba(0,0,0,0.1);
  }
  .course{
    overflow: hidden;
  }
</style>
</ion-view>